üå©Ô∏è CloudTrail ‡≤é‡≤Ç‡≤¶‡≤∞‡≥Ü ‡≤è‡≤®‡≥Å?

AWS CloudTrail ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤Æ‡≥ã‡≤®‡≤ø‡≤ü‡≤∞‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Ü‡≤°‡≤ø‡≤Ø‡≤ø‡≤ü‡≥ç ‡≤∏‡≤∞‡≥ç‡≤µ‡≤ø‡≤∏‡≥ç (Monitoring & Auditing Service) ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.
‡≤á‡≤¶‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ AWS account‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤®‡≤°‡≥Ü‡≤Ø‡≥Å‡≤µ ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ API activity‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

‡≤Ö‡≤∞‡≥ç‡≤•‡≤æ‡≤§‡≥ç ‚Äî ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ñ‡≤æ‡≤§‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ø‡≤æ‡≤∞‡≥Å, ‡≤Ø‡≤æ‡≤µ‡≤æ‡≤ó, ‡≤Ø‡≤æ‡≤µ resource ‡≤Æ‡≥á‡≤≤‡≥Ü, ‡≤Ø‡≤æ‡≤µ action ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å ‡≤é‡≤Ç‡≤¨‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å CloudTrail ‡≤ü‡≥ç‡≤∞‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

üéØ CloudTrail ‡≤Ø‡≤æ‡≤ï‡≥Ü ‡≤¨‡≤≥‡≤∏‡≤¨‡≥á‡≤ï‡≥Å? (Purpose / Importance)

CloudTrail ‡≤¨‡≤≥‡≤∏‡≥Å‡≤µ ‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø ‡≤â‡≤¶‡≥ç‡≤¶‡≥á‡≤∂‡≤ó‡≤≥‡≥Å:

Security auditing (‡≤≠‡≤¶‡≥ç‡≤∞‡≤§‡≤æ ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤®‡≥Ü):
‡≤Ø‡≤æ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤µ ‡≤∏‡≤Æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø EC2 instance launch ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å, delete ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ IAM policy ‡≤¨‡≤¶‡≤≤‡≤ø‡≤∏‡≤ø‡≤¶‡≤∞‡≥Å ‡≤é‡≤Ç‡≤¨‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å.

Compliance (‡≤®‡≤ø‡≤Ø‡≤Æ ‡≤™‡≤æ‡≤≤‡≤®‡≥Ü):
ISO, SOC, PCI-DSS ‡≤Æ‡≥Å‡≤Ç‡≤§‡≤æ‡≤¶ compliance checks ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å logs ‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤µ‡≥Ü ‚Äî CloudTrail ‡≤Ü ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤í‡≤¶‡≤ó‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

Operational troubleshooting (‡≤Ü‡≤™‡≤∞‡≥á‡≤∂‡≤®‡≤≤‡≥ç ‡≤§‡≥ä‡≤Ç‡≤¶‡≤∞‡≥Ü ‡≤™‡≤§‡≥ç‡≤§‡≥Ü):
‡≤Ø‡≤æ‡≤µ user ‡≤Ö‡≤•‡≤µ‡≤æ service ‡≤§‡≤™‡≥ç‡≤™‡≥Å configuration ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤§‡≤ø‡≤≥‡≤ø‡≤Ø‡≤≤‡≥Å CloudTrail event logs ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

Change tracking (‡≤¨‡≤¶‡≤≤‡≤æ‡≤µ‡≤£‡≥Ü ‡≤π‡≤æ‡≤¶‡≤ø):
‡≤Ø‡≤æ‡≤∞‡≤æ‡≤¶‡≤∞‡≥Ç resource ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤¨‡≤¶‡≤≤‡≤æ‡≤µ‡≤£‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Ü ‡≤Ö‡≤¶‡≤®‡≥ç‡≤®‡≥Å event log‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤®‡≥ã‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.

‚öôÔ∏è CloudTrail ‡≤π‡≥á‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≤‡≤∏ ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü?

CloudTrail ‡≤í‡≤Ç‡≤¶‡≥Å event logging system ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.
‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤¨‡≤æ‡≤∞‡≤ø ‡≤®‡≥Ä‡≤µ‡≥Å AWS‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü (action) ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤â‡≤¶‡≤æ:

EC2 instance launch ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å

S3 bucket delete ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å

IAM user create ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å

CloudTrail ‡≤Ü ‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤Ø ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø event ‡≤Ü‡≤ó‡≤ø JSON file ‡≤∞‡≥Ç‡≤™‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø S3 bucket ‡≤ó‡≥Ü store ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

‡≤π‡≤æ‡≤ó‡≥Ü‡≤Ø‡≥á ‡≤®‡≥Ä‡≤µ‡≥Å CloudWatch Logs ‡≤ó‡≥Ü stream ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≥Å‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ real-time ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ö‡≤µ‡≥Å‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≥ã‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.

üßæ CloudTrail Event‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤∞‡≥Å‡≤µ ‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø:

‡≤í‡≤Ç‡≤¶‡≥Å typical event JSON ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤à ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø‡≤ó‡≤≥‡≥Å ‡≤á‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤µ‡≥Ü:

Event Time: ‡≤Ø‡≤æ‡≤µ ‡≤∏‡≤Æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤®‡≤°‡≥Ü‡≤¶‡≤ø‡≤¶‡≥Ü

User Identity: ‡≤Ø‡≤æ‡≤µ user/service action ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶

Event Source: ‡≤Ø‡≤æ‡≤µ AWS service (‡≤â‡≤¶‡≤æ: ec2.amazonaws.com)

Event Name: action ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å (‡≤â‡≤¶‡≤æ: RunInstances, StopInstances)

Resource: ‡≤Ø‡≤æ‡≤µ resource ‡≤Æ‡≥á‡≤≤‡≥Ü action ‡≤®‡≤°‡≥Ü‡≤Ø‡≤ø‡≤§‡≥Å

Source IP: ‡≤Ø‡≤ø‡≤Ç‡≤¶ request ‡≤¨‡≤Ç‡≤§‡≥Å

üóÇÔ∏è CloudTrail event history ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤ó‡≥Ü ‡≤®‡≥ã‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å?

AWS Console ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≥ã‡≤ó‡≤ø

CloudTrail ‚Üí Event History ‡≤ï‡≥ç‡≤≤‡≤ø‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø

Filter ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å (‡≤â‡≤¶‡≤æ: user name, resource name, date range ‡≤Æ‡≥Å‡≤Ç‡≤§‡≤æ‡≤¶‡≤µ‡≥Å‡≤ó‡≤≥ ‡≤Æ‡≥Ç‡≤≤‡≤ï)

‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≥Å event ‡≤µ‡≤ø‡≤µ‡≤∞‡≤µ‡≤æ‡≤ó‡≤ø ‡≤®‡≥ã‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å

üíæ CloudTrail Logs Save ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®:

‡≤®‡≥Ä‡≤µ‡≥Å CloudTrail trail ‡≤∏‡≥É‡≤∑‡≥ç‡≤ü‡≤ø‡≤∏‡≤ø:

Logs ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤í‡≤Ç‡≤¶‡≥Å S3 bucket ‡≤ó‡≥Ü save ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å

‡≤Ö‡≤≤‡≥ç‡≤≤‡≤¶‡≥á CloudWatch Logs ‡≤ó‡≥Ü realtime stream ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å

‡≤π‡≥Ä‡≤ó‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ account‚Äå‡≤® auditing ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å history data ‡≤â‡≤≥‡≤ø‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

üß† CloudTrail Trail ‡≤∞‡≤ö‡≤ø‡≤∏‡≥Å‡≤µ ‡≤π‡≥Ü‡≤ú‡≥ç‡≤ú‡≥Ü‡≤ó‡≤≥‡≥Å (Step by Step):

AWS Console ‡≤§‡≥Ü‡≤∞‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø

CloudTrail Service ‡≤ó‡≥Ü ‡≤π‡≥ã‡≤ó‡≤ø

‚ÄúCreate trail‚Äù ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø

Trail ‡≤ó‡≥Ü ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å ‡≤ï‡≥ä‡≤°‡≤ø

‚ÄúStore events in an S3 bucket‚Äù ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø

‡≤®‡≥Ä‡≤µ‡≥Å ‡≤π‡≥ä‡≤∏ bucket ‡≤∏‡≥É‡≤∑‡≥ç‡≤ü‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤π‡≤≥‡≥Ü‡≤Ø‡≤¶‡≥Å ‡≤¨‡≤≥‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å

CloudWatch Logs integration ‡≤¨‡≥á‡≤ï‡≤æ‡≤¶‡≤∞‡≥Ü enable ‡≤Æ‡≤æ‡≤°‡≤ø

‚ÄúCreate trail‚Äù ‡≤ï‡≥ç‡≤≤‡≤ø‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø ‚úÖ

üîí ‡≤â‡≤¶‡≤æ‡≤π‡≤∞‡≤£‡≥Ü:

‡≤í‡≤¨‡≥ç‡≤¨ developer EC2 instance terminate ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Ü ‚Äî
CloudTrail ‡≤à event ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å capture ‡≤Æ‡≤æ‡≤°‡≤ø,
‚ÄúTerminateInstances‚Äù ‡≤é‡≤Ç‡≤¶‡≥Å event log ‡≤∏‡≥É‡≤∑‡≥ç‡≤ü‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

‡≤Ö‡≤¶‡≤∞‡≤≤‡≥ç‡≤≤‡≤ø:

‡≤Ø‡≤æ‡≤∞‡≥Å terminate ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å

‡≤Ø‡≤æ‡≤µ instance ID

‡≤Ø‡≤æ‡≤µ ‡≤∏‡≤Æ‡≤Ø

‡≤Ø‡≤æ‡≤µ IP address ‡≤á‡≤Ç‡≤¶ request ‡≤¨‡≤Ç‡≤§‡≥Å
‡≤é‡≤≤‡≥ç‡≤≤‡≤µ‡≥Ç ‡≤¶‡≤æ‡≤ñ‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

üìà CloudTrail‚Äå‡≤® ‡≤â‡≤™‡≤Ø‡≥ã‡≤ó‡≤ó‡≤≥‡≥Å ‡≤∏‡≤Ç‡≤ï‡≥ç‡≤∑‡≤ø‡≤™‡≥ç‡≤§‡≤µ‡≤æ‡≤ó‡≤ø:
‡≤â‡≤™‡≤Ø‡≥ã‡≤ó	‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü
üîê Security	‡≤Ø‡≤æ‡≤∞‡≥Å ‡≤è‡≤®‡≥Å ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Å ‡≤é‡≤Ç‡≤¨ auditing
üß© Troubleshooting	configuration issue ‡≤™‡≤§‡≥ç‡≤§‡≥Ü
üßæ Compliance	‡≤®‡≤ø‡≤Ø‡≤Æ ‡≤™‡≤æ‡≤≤‡≤®‡≥Ü‡≤ó‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü
üïµÔ∏è‚Äç‚ôÇÔ∏è Investigation	‡≤Ö‡≤®‡≤ß‡≤ø‡≤ï‡≥É‡≤§ ‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤™‡≤§‡≥ç‡≤§‡≥Ü
üóÇÔ∏è Tracking	‡≤¨‡≤¶‡≤≤‡≤æ‡≤µ‡≤£‡≥Ü‡≤ó‡≤≥ ‡≤á‡≤§‡≤ø‡≤π‡≤æ‡≤∏
